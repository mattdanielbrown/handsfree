<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>🔌 Plugins and the main loop | Handsfree.js</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/favicon.png">
    <meta name="description" content="Add face, hand, and pose tracking to your projects, create handsfree user experiences, and tap into our growing library of plugins and integrations ✨👌">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://handsfree.js.org/">
    <meta property="og:image" content="https://i.imgur.com/A9g8rfp.jpg">
    <meta property="og:title" content="Handsfree.js">
    <meta property="og:description" content="Add face, hand, and pose tracking to your projects, create handsfree user experiences, and tap into our growing library of plugins and integrations ✨👌">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:image" content="https://i.imgur.com/A9g8rfp.jpg">
    <meta property="twitter:site" content="@Midiblocks">
    
    <link rel="preload" href="/assets/css/0.styles.633dff84.css" as="style"><link rel="preload" href="/assets/js/app.d6182c3f.js" as="script"><link rel="preload" href="/assets/js/3.f695e4dd.js" as="script"><link rel="preload" href="/assets/js/29.84bad1fd.js" as="script"><link rel="preload" href="/assets/js/5.5e815e1c.js" as="script"><link rel="preload" href="/assets/js/17.3fdeb27a.js" as="script"><link rel="preload" href="/assets/js/16.da594a46.js" as="script"><link rel="preload" href="/assets/js/18.85b0822c.js" as="script"><link rel="preload" href="/assets/js/21.1e8ff060.js" as="script"><link rel="prefetch" href="/assets/js/1.4dffba67.js"><link rel="prefetch" href="/assets/js/10.0a7ea998.js"><link rel="prefetch" href="/assets/js/11.ae25df78.js"><link rel="prefetch" href="/assets/js/12.bfee203a.js"><link rel="prefetch" href="/assets/js/13.3de95066.js"><link rel="prefetch" href="/assets/js/14.f4a5e80b.js"><link rel="prefetch" href="/assets/js/15.b9ffc84d.js"><link rel="prefetch" href="/assets/js/19.4579d591.js"><link rel="prefetch" href="/assets/js/20.1002e391.js"><link rel="prefetch" href="/assets/js/22.6eee4653.js"><link rel="prefetch" href="/assets/js/23.f20e4db2.js"><link rel="prefetch" href="/assets/js/24.630d2421.js"><link rel="prefetch" href="/assets/js/25.4e8b682e.js"><link rel="prefetch" href="/assets/js/26.f4fe4dc2.js"><link rel="prefetch" href="/assets/js/27.f432bfb6.js"><link rel="prefetch" href="/assets/js/28.9c94e524.js"><link rel="prefetch" href="/assets/js/30.7c7eaff7.js"><link rel="prefetch" href="/assets/js/31.5568bb3b.js"><link rel="prefetch" href="/assets/js/32.6692667e.js"><link rel="prefetch" href="/assets/js/33.7995d7c0.js"><link rel="prefetch" href="/assets/js/34.d8052227.js"><link rel="prefetch" href="/assets/js/35.0a6999a5.js"><link rel="prefetch" href="/assets/js/36.05f22e4e.js"><link rel="prefetch" href="/assets/js/37.53090985.js"><link rel="prefetch" href="/assets/js/38.d1c7d792.js"><link rel="prefetch" href="/assets/js/39.1223be66.js"><link rel="prefetch" href="/assets/js/4.af33a9a7.js"><link rel="prefetch" href="/assets/js/40.ec646931.js"><link rel="prefetch" href="/assets/js/41.abc8d232.js"><link rel="prefetch" href="/assets/js/42.31c71aae.js"><link rel="prefetch" href="/assets/js/43.cb25ad28.js"><link rel="prefetch" href="/assets/js/44.976e8962.js"><link rel="prefetch" href="/assets/js/45.84aa23f0.js"><link rel="prefetch" href="/assets/js/46.4de2f36e.js"><link rel="prefetch" href="/assets/js/47.e889f3cd.js"><link rel="prefetch" href="/assets/js/48.c15dffd5.js"><link rel="prefetch" href="/assets/js/49.e50331e6.js"><link rel="prefetch" href="/assets/js/50.fb1e8dd3.js"><link rel="prefetch" href="/assets/js/51.2329cde5.js"><link rel="prefetch" href="/assets/js/52.8761bb15.js"><link rel="prefetch" href="/assets/js/53.39db5092.js"><link rel="prefetch" href="/assets/js/54.2c46f8c9.js"><link rel="prefetch" href="/assets/js/55.37de98ad.js"><link rel="prefetch" href="/assets/js/56.b8146e5d.js"><link rel="prefetch" href="/assets/js/57.4b76bc94.js"><link rel="prefetch" href="/assets/js/58.e87381fa.js"><link rel="prefetch" href="/assets/js/59.757efb0b.js"><link rel="prefetch" href="/assets/js/6.7c555aa9.js"><link rel="prefetch" href="/assets/js/60.87f95f4e.js"><link rel="prefetch" href="/assets/js/61.22ac8799.js"><link rel="prefetch" href="/assets/js/62.b3894cfd.js"><link rel="prefetch" href="/assets/js/63.eccb35a0.js"><link rel="prefetch" href="/assets/js/64.3b1ce3cc.js"><link rel="prefetch" href="/assets/js/65.9f2d5d9e.js"><link rel="prefetch" href="/assets/js/66.f7c8eeb7.js"><link rel="prefetch" href="/assets/js/67.76e2ef97.js"><link rel="prefetch" href="/assets/js/68.ae820253.js"><link rel="prefetch" href="/assets/js/69.eae307ef.js"><link rel="prefetch" href="/assets/js/7.9ae1eccd.js"><link rel="prefetch" href="/assets/js/70.64e0ff91.js"><link rel="prefetch" href="/assets/js/71.791deb55.js"><link rel="prefetch" href="/assets/js/72.1206e7ab.js"><link rel="prefetch" href="/assets/js/73.753f21fd.js"><link rel="prefetch" href="/assets/js/74.fc082682.js"><link rel="prefetch" href="/assets/js/75.bcb73e5e.js"><link rel="prefetch" href="/assets/js/76.8a4d6b5e.js"><link rel="prefetch" href="/assets/js/77.3667e7b5.js"><link rel="prefetch" href="/assets/js/78.bae286c6.js"><link rel="prefetch" href="/assets/js/79.448abc57.js"><link rel="prefetch" href="/assets/js/8.3284985d.js"><link rel="prefetch" href="/assets/js/80.2856f2a0.js"><link rel="prefetch" href="/assets/js/81.fcd92da0.js"><link rel="prefetch" href="/assets/js/9.ed9450e1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.633dff84.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/branding/handsfree.png" alt="Handsfree.js" class="logo"> <span class="site-name can-hide">Handsfree.js</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/midiblocks/handsfree" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/midiblocks/handsfree" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">🏠 Home</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/guide/" class="sidebar-heading clickable router-link-active open"><span>📋 Guides</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/the-loop.html" aria-current="page" class="active sidebar-link">🔌 Plugins and the main loop</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/the-loop.html#basic-plugins" class="sidebar-link">Basic plugins</a></li><li class="sidebar-sub-header"><a href="/guide/the-loop.html#complex-plugins" class="sidebar-link">Complex plugins</a></li><li class="sidebar-sub-header"><a href="/guide/the-loop.html#accessing-data-outside-of-a-plugin" class="sidebar-link">Accessing data outside of a plugin</a></li><li class="sidebar-sub-header"><a href="/guide/the-loop.html#checking-your-data" class="sidebar-link">Checking your data</a></li><li class="sidebar-sub-header"><a href="/guide/the-loop.html#updating-plugins-through-instantiation-or-handsfree-update" class="sidebar-link">Updating plugins through instantiation or handsfree.update()</a></li></ul></li><li><a href="/guide/updating-configs.html" class="sidebar-link">🎭 Updating and switching models</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/guide/misc/" class="sidebar-heading clickable"><span>📰 Blogs &amp; Articles</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/misc/intro.html" class="sidebar-link">Introducing Handsfree.js - Integrate hand, face, and pose gestures to your frontend</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/integration/" class="sidebar-heading clickable"><span>🧩 Integrations</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/app/" class="sidebar-heading clickable"><span>📱 Apps &amp; Browser Extensions</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/ref/" class="sidebar-heading clickable"><span>📚 Reference</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/community/" class="sidebar-heading clickable"><span>🤝 Community</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/about/" class="sidebar-link">About</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="🔌-plugins-and-the-main-loop"><a href="#🔌-plugins-and-the-main-loop" class="header-anchor">#</a> 🔌 Plugins and the main loop</h1> <p>When you run <a href="/ref/method/start/">handsfree.start(callback)</a> a loop is started that does 4 things:</p> <ol><li>Synchronously updates all models and stores their data in <code>handsfree.model[modelName].data</code></li> <li>Triggers a <code>handsfree-data</code> event on the <code>document</code> with an object containing all the data</li> <li>Runs all active plugins stored in <code>handsfree.plugin[pluginName]</code></li> <li>Runs the callback after all models have been loaded</li></ol> <p>&quot;Plugins&quot; are the recommended way of working with Handsfree. All enabled plugins run their logic on every frame, can be attached to specific models, toggled on/off by tag, and can even manipulate your <code>handsfree</code> instance and other plugins.</p> <h2 id="basic-plugins"><a href="#basic-plugins" class="header-anchor">#</a> Basic plugins</h2> <p>Basic plugins are created with <a href="/ref/method/use/">handsfree.use(pluginName, callback)</a>:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// A plugin that console logs your data on every frame</span>
handsfree<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'consoleLogger'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>weboji<span class="token punctuation">.</span>rotation<span class="token punctuation">,</span> data<span class="token punctuation">.</span>holistic<span class="token punctuation">.</span>data<span class="token punctuation">.</span>faceLandmarks<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>The above will create a new plugin that can now be accessed with <code>handsfree.plugin.consoleLogger</code> and will be run on every frame. The callback is stored in <code>handsfree.plugin.consoleLogger.onFrame</code>, and you can toggle the plugin with:</p> <div class="language-js extra-class"><pre class="language-js"><code>handsfree<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>consoleLogger<span class="token punctuation">.</span><span class="token function">enable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
handsfree<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>consoleLogger<span class="token punctuation">.</span><span class="token function">disable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>The callback receives a <code>data</code> object containing the data of every enabled model. It's common to simply destructure the model that you need:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// A plugin that console logs your data on every frame</span>
handsfree<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'consoleLogger'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>weboji<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>weboji<span class="token punctuation">.</span>rotation<span class="token punctuation">,</span> weboji<span class="token punctuation">.</span>translation<span class="token punctuation">,</span> weboji<span class="token punctuation">.</span>morphs<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="complex-plugins"><a href="#complex-plugins" class="header-anchor">#</a> Complex plugins</h2> <p>Instead of passing a function you can pass an object into <a href="/ref/method/use/">handsfree.use(pluginName, opts)</a>. <code>opts</code> can contain anything, but the following lists special properties and methods:</p> <div class="language-js extra-class"><pre class="language-js"><code>handsfree<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'pluginName'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// Whether the plugin is enabled or not</span>
  <span class="token comment">// - If omitted, this will default to true</span>
  enabled<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

  <span class="token comment">// A list of strings that can be used to toggle this plugin on/off (see below)</span>
  tags<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token comment">// A set of config values that can be overwritten</span>
  <span class="token comment">// - These can be set during instantiation (see below)</span>
  config<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// Called on every frame</span>
  <span class="token comment">// - If you only pass a callback, it'll get assigned to this method</span>
  <span class="token function">onFrame</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// Called immediate after this plugin is added (whether it's enabled or not)</span>
  <span class="token comment">// - Use this for any setup, like creating DOM elements</span>
  <span class="token function">onUse</span> <span class="token punctuation">(</span><span class="token parameter">handsfree</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// Called when the plugin is enabled from a disabled state</span>
  <span class="token comment">// - eg, after calling: handsfree.plugin.myPlugin.enable()</span>
  <span class="token function">onEnable</span> <span class="token punctuation">(</span><span class="token parameter">handsfree</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// Called when the plugin is disabled from an enabled state</span>
  <span class="token comment">// - eg, after calling: handsfree.plugin.myPlugin.disable()</span>
  <span class="token function">onDisable</span> <span class="token punctuation">(</span><span class="token parameter">handsfree</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Since the basic plugin above simply maps the callback to an <code>onFrame</code> method, another way of writing it is:</p> <div class="language-js extra-class"><pre class="language-js"><code>handsfree<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'consoleLogger'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">onFrame</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>weboji<span class="token punctuation">.</span>rotation<span class="token punctuation">,</span> weboji<span class="token punctuation">.</span>translation<span class="token punctuation">,</span> weboji<span class="token punctuation">.</span>morphs<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>The <code>onEnable</code> and <code>onDisable</code> methods makes it easy to run code when you run <code>.enable()</code> or <code>.disable()</code> on the plugin. A common use case is to show/hide DOM elements (for example, to toggle the face and palm pointers).</p> <p>You can add tags to the plugin through the <code>.tags</code> prop to bulk disable/enable plugins with the <a href="/ref/method/enablePlugins/">handsfree.enablePlugins(tags)</a> and <a href="/ref/method/disablePlugins/">handsfree.disablePlugins(tags)</a>. <code>.tags</code> can be a string or array of strings:</p> <div class="language-js extra-class"><pre class="language-js"><code>handsfree<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'consoleLogger'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// This can be a string or array of strings</span>
  tags<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'debugging'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">onFrame</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// Toggle the core &quot;browser&quot; plugins that come with Handsfree.js</span>
<span class="token comment">// - These help you use webpages handsfree</span>
<span class="token comment">// - Note that the consoleLogger will still be active since it doesn't have a browser tag</span>
handsfree<span class="token punctuation">.</span><span class="token function">enablePlugins</span><span class="token punctuation">(</span><span class="token string">'browser'</span><span class="token punctuation">)</span>
handsfree<span class="token punctuation">.</span><span class="token function">disablePlugins</span><span class="token punctuation">(</span><span class="token string">'browser'</span><span class="token punctuation">)</span>
</code></pre></div><p>Calling these methods without tags enables or disables all the plugins. This provides a powerful way to swap out plugins based on the route:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Disable all the plugins</span>
handsfree<span class="token punctuation">.</span><span class="token function">disablePlugins</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// Enable only the plugins for the current route</span>
handsfree<span class="token punctuation">.</span><span class="token function">enablePlugins</span><span class="token punctuation">(</span><span class="token string">'homepage'</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p><strong>Note:</strong> <code>.onEnable()</code> is only called when you run <code>handsfree.plugin[pluginName].enable()</code>. It doesn't run immediately when you <code>.use()</code> the plugin even if <code>.enabled === true</code>. Use <code>onUse()</code> instead.</p></blockquote> <h2 id="accessing-data-outside-of-a-plugin"><a href="#accessing-data-outside-of-a-plugin" class="header-anchor">#</a> Accessing data outside of a plugin</h2> <p>You may occasionally find yourself in a part of your app where you don't have easy access to your <code>handsfree</code> instance. In these cases, you can still access the data on every frame by listening to the <code>handsfree-data</code> event on the <code>document</code>:</p> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'handsfree-data'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>weboji<span class="token punctuation">.</span>rotation<span class="token punctuation">,</span> event<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>weboji<span class="token punctuation">.</span>translation<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="checking-your-data"><a href="#checking-your-data" class="header-anchor">#</a> Checking your data</h2> <p>Because you have the ability to swap out models and configs on the fly, it's highly recommended to first check that the model has data. Due to the synchronous way that data is received it's possible that the data is not present the frame immediately after enabling the plugin:</p> <div class="language-js extra-class"><pre class="language-js"><code>handfree<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'consoleLogger'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>data<span class="token punctuation">.</span>weboji<span class="token punctuation">)</span> <span class="token keyword">return</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>weboji<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>In some models, properties are only available if detected. For example, if the right hand is not visible in the <a href="/ref/model/holistic/">holistic model</a> then the <code>.rightHandLandmarks</code> won't exist. Without checks, this could lead to undefined errors.</p> <p>In these cases it might be necessary to check if the property also exists by using the <a href="https://www.joshwcomeau.com/operator-lookup?match=optional-chaining" target="_blank" rel="noopener noreferrer">Optional Chaining operator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <div class="language-js extra-class"><pre class="language-js"><code>handsfree<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'consoleLogger'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>data<span class="token punctuation">.</span>holistic<span class="token operator">?.</span>rightHandLandmarks<span class="token operator">?.</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>holistic<span class="token punctuation">.</span>rightHandLandmarks<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="updating-plugins-through-instantiation-or-handsfree-update"><a href="#updating-plugins-through-instantiation-or-handsfree-update" class="header-anchor">#</a> Updating plugins through instantiation or <code>handsfree.update()</code></h2> <p>You can set plugins during instantiation through the <code>plugin</code> property. Set the plugin name to true to use defaults:</p> <div class="language-js extra-class"><pre class="language-js"><code>handsfree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Handsfree</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  hands<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  plugin<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// Enable with defaults</span>
    pinchScroll<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Or pass a config object to pre-configure it:</p> <div class="language-js extra-class"><pre class="language-js"><code>handsfree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Handsfree</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  hands<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  plugin<span class="token operator">:</span> <span class="token punctuation">{</span>
    pinchScroll<span class="token operator">:</span> <span class="token punctuation">{</span>
      enabled<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      speed<span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>You can do the same with the <a href="/ref/method/update/">handsfree.update()</a> method:</p> <div class="language-js extra-class"><pre class="language-js"><code>handsfree<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugin<span class="token operator">:</span> <span class="token punctuation">{</span>
    pinchScroll<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/midiblocks/handsfree/edit/master/docs/guide/the-loop.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/21/2020, 4:05:17 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/" class="prev router-link-active">
        🏠 Home
      </a></span> <span class="next"><a href="/guide/updating-configs.html">
        🎭 Updating and switching models
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><div id="handsfree-container"><div id="handsfree-debugger"></div><div id="navbar-handsfree-toggle"><a href="https://github.com/midiblocks/handsfree"><img src="/branding/github.png" height="28" style="vertical-align: middle"></a><div class="block-children handsfree-show-when-started"><button class="handsfree-show-when-stopped handsfree-hide-when-loading"><span><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="video" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-video fa-w-18"><path fill="currentColor" d="M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"></path></svg></span><span>Activate Handsfree Mode</span></button><button disabled="disabled" class="handsfree-show-when-loading"><span><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="spinner" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-spinner fa-w-16 fa-spin"><path fill="currentColor" d="M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"></path></svg></span><span>Loading...</span></button><button class="handsfree-hide-when-loading handsfree-show-when-started negative"><span><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="video-slash" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" class="svg-inline--fa fa-video-slash fa-w-20"><path fill="currentColor" d="M633.8 458.1l-55-42.5c15.4-1.4 29.2-13.7 29.2-31.1v-257c0-25.5-29.1-40.4-50.4-25.8L448 177.3v137.2l-32-24.7v-178c0-26.4-21.4-47.8-47.8-47.8H123.9L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4L42.7 82 416 370.6l178.5 138c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.5-6.9 4.2-17-2.8-22.4zM32 400.2c0 26.4 21.4 47.8 47.8 47.8h288.4c11.2 0 21.4-4 29.6-10.5L32 154.7v245.5z"></path></svg></span><span>Stop Handsfree</span></button></div></div><div id="handsfree-debug-window" class="window window-component mb-md handsfree-show-when-started handsfree-hide-when-not-debugging mb-0"><div class="title-bar"><div class="title-bar-text">Debugger</div><div class="title-bar-controls"><button aria-label="Minimize"></button><button aria-label="Restore"></button><button aria-label="Maximize"></button></div></div><div class="window-body"></div></div></div></div></div>
    <script src="/assets/js/app.d6182c3f.js" defer></script><script src="/assets/js/3.f695e4dd.js" defer></script><script src="/assets/js/29.84bad1fd.js" defer></script><script src="/assets/js/5.5e815e1c.js" defer></script><script src="/assets/js/17.3fdeb27a.js" defer></script><script src="/assets/js/16.da594a46.js" defer></script><script src="/assets/js/18.85b0822c.js" defer></script><script src="/assets/js/21.1e8ff060.js" defer></script>
  </body>
</html>
